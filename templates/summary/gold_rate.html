<!--

=========================================================
* Argon Dashboard - v1.1.2
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard
* Copyright 2020 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
{% load static %}
{% load socialaccount %}
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>
    Argon Dashboard - Free Dashboard for Bootstrap 4 by Creative Tim
  </title>
  <!-- Favicon -->
  <link href="{%static '/assets/img/brand/favicon.png' %}" rel="icon" type="image/png">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <!-- Icons -->
  <link href="{%static '/assets/js/plugins/nucleo/css/nucleo.css' %}" rel="stylesheet" />
  <link href="{%static '/assets/js/plugins/@fortawesome/fontawesome-free/css/all.min.css' %}" rel="stylesheet" />
  <!-- CSS Files -->
  <link href="{%static '/assets/css/argon-dashboard.css'%}?v=1.1.2" rel="stylesheet" />
</head>

<body class="">
  <nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
    <div class="container-fluid">
      <!-- Toggler -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidenav-collapse-main" aria-controls="sidenav-main" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Brand -->
      <a class="navbar-brand pt-0" href="/">
        <img src="{%static '/assets/img/brand/blue.png' %}" class="navbar-brand-img" alt="...">
      </a>
      <!-- User -->
      <ul class="nav align-items-center d-md-none">
        <li class="nav-item dropdown">
          <a class="nav-link nav-link-icon" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="ni ni-bell-55"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right" aria-labelledby="navbar-default_dropdown_1">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div class="media align-items-center">
              <span class="avatar avatar-sm rounded-circle">
                <img alt="Image placeholder" src="./assets/img/theme/team-1-800x800.jpg">
              </span>
            </div>
          </a>
          <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right">
            <div class=" dropdown-header noti-title">
              <h6 class="text-overflow m-0">Welcome!</h6>
            </div>
            <a href="./examples/profile.html" class="dropdown-item">
              <i class="ni ni-single-02"></i>
              <span>My profile</span>
            </a>
            <a href="./examples/profile.html" class="dropdown-item">
              <i class="ni ni-settings-gear-65"></i>
              <span>Settings</span>
            </a>
            <a href="./examples/profile.html" class="dropdown-item">
              <i class="ni ni-calendar-grid-58"></i>
              <span>Activity</span>
            </a>
            <a href="./examples/profile.html" class="dropdown-item">
              <i class="ni ni-support-16"></i>
              <span>Support</span>
            </a>
            <div class="dropdown-divider"></div>
            <a href="#!" class="dropdown-item">
              <i class="ni ni-user-run"></i>
              <span>Logout</span>
            </a>
          </div>
        </li>
      </ul>
      <!-- Collapse -->
      <div class="collapse navbar-collapse" id="sidenav-collapse-main">
        <!-- Collapse header -->
        <div class="navbar-collapse-header d-md-none">
          <div class="row">
            <div class="col-6 collapse-brand">
              <a href="./index.html">
                <img src="{%static '/assets/img/brand/blue.png' %}">
              </a>
            </div>
            <div class="col-6 collapse-close">
              <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#sidenav-collapse-main" aria-controls="sidenav-main" aria-expanded="false" aria-label="Toggle sidenav">
                <span></span>
                <span></span>
              </button>
            </div>
          </div>
        </div>
        <!-- Form -->
        <form class="mt-4 mb-3 d-md-none">
          <div class="input-group input-group-rounded input-group-merge">
            <input type="search" class="form-control form-control-rounded form-control-prepended" placeholder="Search" aria-label="Search">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <span class="fa fa-search"></span>
              </div>
            </div>
          </div>
        </form>
        <!-- Navigation -->
        <ul class="navbar-nav">
          <li class="nav-item ">
            <a class="nav-link" href="/">
              <i class="ni ni-tv-2 text-primary"></i> HEY 금융+ 홈으로
            </a>
          </li>
          <li class="nav-item   ">
            <a class="nav-link   " href="/summary">
              <i class="ni ni-tv-2 text-primary"></i> 대시보드
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="/summary/real_estate">
              <i class="ni ni-bullet-list-67 text-red"></i> 부동산
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link active " href="javascript:void(0)">
              <i class="ni ni-bullet-list-67 text-red"></i> 금
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="/summary/exchange_rate">
              <i class="ni ni-bullet-list-67 text-red"></i> 환율
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="/summary/coin">
              <i class="ni ni-bullet-list-67 text-red"></i> 코인(Comming soon)
            </a>
          </li>
        </ul>
        <!-- Divider -->
        <hr class="my-3">
        <!-- Heading -->
        <h6 class="navbar-heading text-muted">금융 Docs</h6>
        <!-- Navigation -->
        <ul class="navbar-nav mb-md-3">
          <li class="nav-item">
            <a class="nav-link" href="https://demos.creative-tim.com/argon-dashboard/docs/getting-started/overview.html">
              <i class="ni ni-spaceship"></i> 시작하기
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://demos.creative-tim.com/argon-dashboard/docs/foundation/colors.html">
              <i class="ni ni-palette"></i> 후원하기
            </a>
          </li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item active active-pro">
            <a class="nav-link" href="./examples/upgrade.html">
              <i class="ni ni-send text-dark"></i> Send - Email
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="main-content">
    <!-- Navbar -->
    <nav class="navbar navbar-top navbar-expand-md navbar-dark" id="navbar-main">
      <div class="container-fluid">
        <!-- Brand -->
        <a class="h4 mb-0 text-white text-uppercase d-none d-lg-inline-block" href="./index.html">Dashboard</a>
        
        <!-- User -->
        <ul class="navbar-nav align-items-center d-none d-md-flex">
          <li class="nav-item dropdown">
            <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <div class="media align-items-center">
                <span class="avatar avatar-sm rounded-circle">
                  <img alt="Image placeholder" src="{%static '/assets/img/theme/team-4-800x800.jpg' %}">
                </span>
                <div class="media-body ml-2 d-none d-lg-block">
                  <span class="mb-0 text-sm  font-weight-bold">{{user.username}}</span>
                </div>
              </div>
            </a>
            <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right">
              <div class=" dropdown-header noti-title">
                <h6 class="text-overflow m-0">Welcome!</h6>
              </div>
              <a href="./examples/profile.html" class="dropdown-item">
                <i class="ni ni-single-02"></i>
                <span>My profile</span>
              </a>
              <a href="./examples/profile.html" class="dropdown-item">
                <i class="ni ni-settings-gear-65"></i>
                <span>Settings</span>
              </a>
              <a href="./examples/profile.html" class="dropdown-item">
                <i class="ni ni-calendar-grid-58"></i>
                <span>Activity</span>
              </a>
              <a href="./examples/profile.html" class="dropdown-item">
                <i class="ni ni-support-16"></i>
                <span>Support</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="/accounts/logout" class="dropdown-item">
                <i class="ni ni-user-run"></i>
                <span>Logout</span>
              </a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <!-- End Navbar -->
    
    <!-- Header -->
    <div class="header pb-8 pt-5 pt-md-8" style="background: linear-gradient(87deg, #94bbe9  0px, #3498db 100%);">
      <div class="container-fluid">
        <div class="header-body">
          <!-- Search Button -->
          <form class="navbar-search navbar-search-dark form-inline">
            <div class="form-group">
              <div class="input-group input-group-alternative">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="fas fa-search"></i></span>
                </div>
                <input class="form-control custom-width-input" placeholder="Search" type="text">
            </div>
          </form>
        </div>

          <!-- Card stats -->
          <div class="row">
            <div class="col-xl-3 col-lg-6">
              <div class="card-2 card-stats mb-4 mb-xl-0">
                <div class="card-2-body">
                  <div class="row">
                    <div class="col">
                      <br>
                      <span class="h2 font-weight-bold mb-0" >금 소식</span>
                      <br>
                      <br>
                      <span class="h-exchange">금 인플레이션이 일어나는 이유 : 금값은 보통 인플레이션(물가 상승)과 경기 침체에 대한 대비 수단인 안전자산이다. 그러나 현재 미국 금리 인하가 예상되어 금값이 급등하고 있다. 이러한 상황에서 금은 안전자산으로서의 역할을 높이며 투자자들 사이에서 인기를 얻고 있다.</span>
                      <div class="chart-example">
                      {% comment %} <img src="./assets/img/brand/zoochart.png" width="400" height="300"> {% endcomment %}

                      </div>
                    </div>
                    
                  </div>
                  <p class="mt-3 mb-0 text-muted text-sm">
                  </p>
                </div>
              </div>
            </div>

            <div class="col-xl-3 col-lg-6">
              <div class="card-2 card-2-stats mb-4 mb-xl-0">
                <div class="card-2-body">
                    <div class="col">
                      <br>
                      <span class="h2 font-weight-bold mb-0">국내 금 정보</span>
                      <span class="h4">({% now "Y-m-d" %})</span>
                      <br>
                      <br>
                      <div class="exchange-box">
                        <span class="h3 font-weight-bold mb-0">현재 금 시세</span>
                        <span class='h4'>(1g)</span>
                        <br>
                        <br>
                      <div class="h-exchange-right">
                        <span class="h3">{{current_gold}}원</span>
                      </div>
                      </div>
                      <br>
                      <div class="exchange-box">
                        <span class="h3 font-weight-bold mb-0">현재 금 시세</span>
                        <span class='h4'>(1돈 = 3.75g)</span>
                        <br>
                        <br>
                      <div class="h-exchange-right">
                        <span class="h3">{{current_gold}}원</span>
                  
                      </div>
                      </div>
                    </div>
                    <div class="news-text">
                      {{corp_info}}
                    </div>
                </div>
              </div>
            </div>

            <div class="col-xl-3 col-lg-6">
              <div class="card-2 card-2-stats mb-4 mb-xl-0">
                <div class="card-2-body">
                  <br>
                  <span class="h2 font-weight-bold mb-0">금 시세 뉴스 요약</span>
                  <div class = "jb-container">
                    {% for news in gold_news  %}
                      <p class="jb-title">{{news.title}}</p>
                      <div class="jb-text">{{news.link}}{{news.summary}}{{news.date}}</div>
                    {% endfor %}
                   
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6">
              <div class="card-2 card-2-stats mb-4 mb-xl-0">
                <div class="card-2-body">
                  <div class="row">
                    <div class="col">
                      <br>
                      <span class="h2 font-weight-bold mb-0">금값 계산기</span>
                    </div>
                  </div>
                  <div class="gold-calc-box">
                    <div class = "jb-container" id='calc-gold'>
                          <input id='calc-input-gold' value=1>
                          <div id='calc-result-gold'></div>
                          <div class='gold-calcbox-main'>
                          <!-- 숫자 버튼 추가 -->
                            <button onclick="appendToInput('calc-input-gold', '1')">1</button>
                            <button onclick="appendToInput('calc-input-gold', '2')">2</button>
                            <button onclick="appendToInput('calc-input-gold', '3')">3</button>
                            <button onclick="calcGold()">🟰</button>
                            <br>
                            <button onclick="appendToInput('calc-input-gold', '4')">4</button>
                            <button onclick="appendToInput('calc-input-gold', '5')">5</button>
                            <button onclick="appendToInput('calc-input-gold', '6')">6</button>
                            <br>
                            <button onclick="appendToInput('calc-input-gold', '7')">7</button>
                            <button onclick="appendToInput('calc-input-gold', '8')">8</button>
                            <button onclick="appendToInput('calc-input-gold', '9')">9</button>
                            <br>
                            <button onclick="appendToInput('calc-input-gold', '0')">0</button>
                            <button onclick="appendToInput('calc-input-gold', '.')">.</button>
                            <button onclick="removeLastDigit('calc-input-gold')">←</button>
                            </div>
                                
                  </div>
                  </div>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 차트 그려지는 공간-->
    <div class="container-fluid mt--7">
      <div class="row">
        <div class="col-xl-8 mb-5 mb-xl-0">
          <div class="card bg-gradient-default shadow">
            <div class="card-header bg-transparent">
              <div class="row align-items-center">
                <div class="col">
                  <br>
                  <h2 class="text-white mb-0">금 주가</h2>
                  
                </div>
                <div class="col">
                  <ul class="nav nav-pills justify-content-end">
                    <li class="nav-item mr-2 mr-md-0" data-toggle="chart" data-target="#chart-sales2" 
                    data-update='{"data":{"datasets":[{"data":[38408688000,2000,5000,9000]}]}}' data-prefix="$" data-suffix="k">
                      <a href="#" class="nav-link py-2 px-3 active" data-toggle="tab">
                        <span class="d-none d-md-block">2023</span>
                        <span class="d-md-none">M</span>
                      </a>
                    </li>
                    <li class="nav-item" data-toggle="chart" data-target="#chart-sales2"
                     data-update='{"data":{"datasets":[{"data":[31637411000,2000,1000,5000]}]}}' data-prefix="$" data-suffix="k">
                      <a href="#" class="nav-link py-2 px-3" data-toggle="tab">
                        <span class="d-none d-md-block">2022</span>
                        <span class="d-md-none">W</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="card-body">
              <!-- Chart 차트 여기부터-->
              <div class="chart">
                <!-- Chart wrapper -->
                <canvas id="chart-sales2" class="chart-canvas"></canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="card-chat-bot">
          <div class="card shadow">
            <div class="card-header bg-transparent">
              <div class="row align-items-center">
                <div class="col">
                  <br>
                  <h2 class="mb-0" id="news-title">챗봇 위치 입니다.</h2>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-custom">
                 <div class="send" >
                  <textarea class="send-text" placeholder="메세지를 입력하세요" id="message-input"></textarea>
                  <button class='send-btn' onclick="sendMessage()">전송</button>
                  </div>
                <!--백엔드 작업 공간..?-->
                <div class="news-text" id='chatbot_text'>{{chat_answer}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--ROE, PER, PBR, 부채 등등...재무제표 쉽게 알려주기-->
      <div class="row-2 mt-5">
        <div class="row-2">
          <div class="col-xl-custom">
            <div class="card-3 card-3-stats mb-4">
              <div class="row">
                <div class="col">
                  <div class="card-3-body">
                    <h5 class="card-3-title text-uppercase text-muted mb-0">단위 : %</h5>
                    <span class="h2 font-weight-bold mb-0" >부채 현황</span>
                    <canvas id="chart-dept" class="chart-dept" ></canvas>

                     <div class = "jb-container">
                      <p class="jb-title">부채(負債, )</p>
                      <div class="jb-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
                        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>
                    </div>
                  </div>
                </div>
                
              </div>
                
            </div>
          </div>

          <div class="col-xl-custom">
            <div class="card-3 card-3-stats mb-4" id="chart-dept-card">
              <div class="card-3-body">
                <div class="row-2">
                  <div class="card-3-body">
                    <h5 class="card-3-title text-uppercase text-muted mb-0">비율(%)</h5>
                    <span class="h2 font-weight-bold mb-0">부채</span>
                    <canvas id="chart-dept" class="chart-dept" ></canvas>
                    
                  </div>

                </div>
              </div>
            </div>
          </div>

        </div>
      </div>


      <div class="row-2 mt-5">
        <div class="row-2">
          <div class="col-xl-custom">
            <div class="card-3 card-3-stats mb-4">
              <div class="card-3-body">
                    <h5 class="card-3-title text-uppercase text-muted mb-0">URL</h5>
                    <span class="h2 font-weight-bold mb-0" >용어 설명</span>
                    <img src="./assets/img/brand/ROEex.jpg" width="600" height="400">
              </div>
            </div>
          </div>

          <div class="col-xl-custom">
            <div class="card-3 card-3-stats mb-4" id="chart-dept-card">
              <div class="card-3-body">
                <div class="row-2">
                  <div class="card-3-body">
                    <h5 class="card-3-title text-uppercase text-muted mb-0">비율(%)</h5>
                    <span class="h2 font-weight-bold mb-0">자본 및 부채</span>
                    <img src="./assets/img/brand/ROEex2.png" width="600" height="400">

                   
                  </div>

                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <!-- Footer -->
      
      <footer class="footer">
        <div class="row align-items-center justify-content-xl-between">
          <div class="col-xl-6">
            <div class="copyright text-center text-xl-left text-muted">
              &copy; 2018 <a href="https://www.creative-tim.com" class="font-weight-bold ml-1" target="_blank">Creative Tim</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>
  <!--   Core   -->
  <script src="{%static '/assets/js/plugins/jquery/dist/jquery.min.js' %}"></script>
  <script src="{%static '/assets/js/plugins/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
  <!--   Optional JS   -->
  <script src="{%static '/assets/js/plugins/chart.js/dist/Chart.min.js' %}"></script>
  <!-- 그래프 모양과 관련됨   -->
  <script src="{%static '/assets/js/plugins/chart.js/dist/Chart.extension.js' %}"></script>
  <!--   Argon JS   -->
  <script src="{%static '/assets/js/argon-dashboard.min.js'%}?v=1.1.2"></script>
  <script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
  <script type="text/javascript"> window.CSRF_TOKEN = "{{ csrf_token }}"; </script>
  <script>
    
    DeptChart = function () {
      var e, a, t = $("#chart-dept");
      var initialData = {
        labels: ["부채", "자본"],
        datasets: [{
          label: "부채 비율",
          data: [20, 60],
          backgroundColor: ['warning', '#fb6340'] // Adjust colors as needed
        }]
      };
      if (t.length) {
        e = t;
        a = new Chart(e, {
          type: "doughnut",
          options: {
            responsive: true,
            maintainAspectRatio: true,
            legend: {
              display: true,
              position: 'right',
              labels: {
                fontColor: 'black'
              }
            },
            tooltips: {
              callbacks: {
                label: function (e, a) {
                  var t = a.labels[e.index] || "",
                    o = a.datasets[0].data[e.index],
                    n = "";
                  return n += '<span class="popover-body-value">' + t + ":" + o + "%</span>"
                }
              }
            },
            plugins: {
              labels: {
                render: 'percentage',
                fontColor: ['#ff0000', '#0000ff'],
                precision: 2
              }
            }

          },
          data: initialData
        }), e.find("canvas").attr("width", "100").attr("height", "100"), e.data("chart", a)
      }
    }();

  $(function () {
    // 툴팁 초기화
    $('[data-toggle="tooltip"]').tooltip();
    
  });

  $(document).ready(function () {
    $("#chart-dept-card").hover(
      function () {
        $("#chart-dept-title").css("display", "block");
      },
      function () {
        $("#chart-dept-title").css("display", "none");
      }
    );

    {% comment %} $("#calc-gold").append({{current_gold}}) {% endcomment %}
  });

  const targetTextarea = document.querySelector('#message-input');

  function adjustTextareaHeight() {
      // 텍스트영역 높이를 실제 컨텐츠의 높이로 재설정
      targetTextarea.style.height = 'auto';

      // 텍스트영역 높이를 스크롤 높이에 맞춰 설정
      targetTextarea.style.height = targetTextarea.scrollHeight + 'px';
      targetTextarea.scrollDown = targetTextarea.scrollHeight;
    }

  // 인풋 이벤트가 발생할 때마다 높이 조절 함수를 호출
  targetTextarea.addEventListener('input', adjustTextareaHeight);

  // 페이지 로딩 시 초기 높이 조절
  adjustTextareaHeight();

  function calcGold(){
    
    var calc_input = Number(document.querySelector('#calc-input-gold').value)
    var result = Number({{current_gold}}) * calc_input
    console.log(result)
    $("#calc-result-gold").html('');
    $("#calc-result-gold").html(result.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + ' 원');
  }
  function sendMessage(){
    let data = targetTextarea.value
    $('#chatbot_text').append(data)
    $.ajax({
			type:'post',   //post 방식으로 전송
			url:'/summary/gold_chatbot/',   //데이터를 주고/받을 파일 주소
			data: {
        data:data,
        csrfmiddlewaretoken: window.CSRF_TOKEN,
      },   //위의 변수에 담긴 데이터를 전송해준다.
			success : function(data){   //파일 주고받기가 성공했을 경우. data 변수 안에 값을 담아온다.
        console.log(data)
				$('#chatbot_text').append("<h2>"+data.chat_answer+"</h2>");  //현재 화면 위 id="message" 영역 안에 data안에 담긴 html 코드를 넣어준다. 
			}
		});
  }
    //페이지 새로고침 시 달러,엔화 1단위 계산 결과 출력
    document.addEventListener('DOMContentLoaded', function () {
      // 페이지가 로드될 때 실행되는 함수
      setInitialExchangeRate();
    });
    function setInitialExchangeRate() {
      // 초기 환율을 설정하는 함수
      var initialDollarRate = 1; // 1달러의 초기 환율
      var initialYenRate = 1; // 1엔화의 초기 환율
      // 달러 계산기 초기 설정
      document.getElementById('calc-input-gold').value = initialDollarRate;
      updatePlaceholder('calc-input-gold'); // 플레이스홀더 업데이트
      calcGold(); // 초기 계산 결과 업데이트
    }
    // 플레이스홀더 업데이트 함수
    function updatePlaceholder(inputId) {
      var inputElement = document.getElementById(inputId);
      var inputValue = inputElement.value;
  

    }
    // 금값 결과 업데이트 함수
    function updateGoldResult(containerId, rate) {
      var resultContainer = document.getElementById('calc-result-' + containerId);
      var result = rate * 1; 
      resultContainer.innerHTML = result.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + ' 원';
    }

    function appendToInput(inputId, value) {
      document.getElementById(inputId).value += value;
    }
    function removeLastDigit(inputId) {
      var inputValue = document.getElementById(inputId).value;
      document.getElementById(inputId).value = inputValue.slice(0, -1);
    }
  
    function changeIcon(icon) {
      document.getElementById('calc-icon').innerHTML = icon;
    }
  </script>
</body>
</html>

